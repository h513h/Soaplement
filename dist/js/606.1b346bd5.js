"use strict";(self["webpackChunksoaplement"]=self["webpackChunksoaplement"]||[]).push([[606],{126:function(e,t,s){s.d(t,{Z:function(){return r}});var a={data(){return{isLoading:!0,isCartEmpty:!0,carts:{},sum:"",discountSum:"",renewItem:{},couponMessage:""}},methods:{getCarts(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/h513h/cart";this.$http.get(e).then((e=>{this.isLoading=!1,this.carts=e.data.data.carts,this.carts.length>0?(this.isCartEmpty=!1,this.getTotal()):this.isCartEmpty=!0}))},deleteItem(e){const t=`https://vue3-course-api.hexschool.io/api/h513h/cart/${e}`;this.$http.delete(t).then((e=>{this.getCarts()}))},getTotal(){const e=this.carts.reduce(((e,t)=>e+t.total),0);this.sum=e;const t=this.carts.reduce(((e,t)=>e+t.final_total),0);this.discountSum=t},renewQty(e,t,s,a){e?t+=1:t-=1,this.renewItem={product_id:a,qty:parseInt(t)};const l=this.renewItem;if(0===l.qty)this.deleteItem(s);else{const e=`https://vue3-course-api.hexschool.io/api/h513h/cart/${s}`;this.$http.put(e,{data:l}).then((e=>{this.getCarts()})).catch((e=>{console.log(e)}))}},useCoupon(e){const t={code:e},s="https://vue3-course-api.hexschool.io/api/h513h/coupon";this.$http.post(s,{data:t}).then((e=>{e.data.success?this.couponMessage="Applied successfully!":this.couponMessage="Sorry, this code is invalid...",this.getCarts()})).catch((e=>{console.log(e)}))},goToReceipt(){this.$router.push("/receipt")}},created(){this.getCarts(),this.emitter.on("renewCart",this.getCarts)}};const l=a;var r=l},5963:function(e,t,s){s.d(t,{Z:function(){return F}});var a=s(3396),l=s(7139);const r={class:"navbar navbar-expand-lg bg-light sticky-top"},o={class:"container-fluid"},i=(0,a.Uk)("Soaplement"),n=(0,a._)("button",{class:"navbar-toggler border-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",null,[(0,a._)("i",{class:"fa-solid fa-bars"})])],-1),c={class:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},d={class:"navbar-nav"},u=(0,a.Uk)("Products"),m=(0,a.Uk)("Wishlist"),p=(0,a._)("i",{class:"fa-solid fa-basket-shopping"},null,-1),h=(0,a._)("span",{class:"visually-hidden"},"New alerts",-1),f=[h];function v(e,t,s,h,v,b){const g=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",r,[(0,a._)("div",o,[(0,a.Wm)(g,{class:"navbar-brand font-monospace text-dark",to:"/"},{default:(0,a.w5)((()=>[i])),_:1}),n,(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(g,{class:"nav-link text-center",to:"/products"},{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(g,{class:"nav-link text-center",to:"/wishlist"},{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(g,{class:"nav-link text-center position-relative",to:"/shoppingcart",modelValue:e.carts.length,"onUpdate:modelValue":t[0]||(t[0]=t=>e.carts.length=t)},{default:(0,a.w5)((()=>[p,(0,a._)("span",{class:(0,l.C_)(["position-absolute top-50 translate-middle p-1 bg-danger border border-light rounded-circle",{"d-none":e.isCartEmpty}])},f,2)])),_:1},8,["modelValue"])])])])])}var b=s(126),g={mixins:[b.Z]},_=s(89);const x=(0,_.Z)(g,[["render",v]]);var y=x,w=s(9242);const N={class:"p-sm-5 py-5 bg-primary"},k={class:"container"},V={class:"row justify-content-center"},C={class:"col-md-3 mb-3"},W=(0,a._)("h3",{class:"font-monospace text-center"},"Soaplement",-1),q={class:"ps-3"},T=(0,a.Uk)("Exclusive brand-new and long-lost favourite cosmetics that you can't get anywhere else "),M=(0,a._)("div",{class:"col-md-3 text-center mb-3"},[(0,a._)("h3",{class:"font-monospace"},"Contact Us"),(0,a._)("p",null,"serve@soaplement.com")],-1),U=(0,a._)("div",{class:"col-md-3 text-center"},[(0,a._)("h3",{class:"font-monospace"},"Follower Us"),(0,a._)("div",{class:"d-flex justify-content-center"},[(0,a._)("p",{class:"fs-5 me-3 d-inline-block hover-text-white",role:"button"},[(0,a._)("i",{class:"fa-brands fa-facebook"})]),(0,a._)("p",{class:"fs-5 me-3 hover-text-white",role:"button"},[(0,a._)("i",{class:"fa-brands fa-instagram-square"})]),(0,a._)("p",{class:"fs-5 hover-text-white",role:"button"},[(0,a._)("i",{class:"fa-brands fa-twitter-square"})])])],-1);function $(e,t,s,l,r,o){return(0,a.wg)(),(0,a.iD)("footer",N,[(0,a._)("div",k,[(0,a._)("div",V,[(0,a._)("div",C,[W,(0,a._)("p",q,[T,(0,a._)("a",{onClick:t[0]||(t[0]=(0,w.iM)(((...e)=>o.goToLogin&&o.goToLogin(...e)),["prevent"])),class:"btn btn-link"},"Login")])]),M,U])])])}var E={methods:{goToLogin(){this.$router.push("/login")}}};const L=(0,_.Z)(E,[["render",$]]);var S=L,Z={components:{Navbar:y,Footer:S}};const A=Z;var F=A},6606:function(e,t,s){s.r(t),s.d(t,{default:function(){return $}});var a=s(3396),l=s(9242);const r=(0,a._)("div",{class:"vh-30 overflow-hidden"},[(0,a._)("img",{src:"https://images.unsplash.com/photo-1496661415325-ef852f9e8e7c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop",alt:"products list",class:"img-fluid"})],-1),o={class:"container mt-3 mb-5 font-monospace"},i=(0,a.uE)('<h2 class="mb-3">Receipt information</h2><div class="row mb-3 justify-content-evenly text-center text-success"><div class="col-3"><div class="fs-4">●</div></div><div class="col-3"><div class="fs-4">●</div></div><div class="col-3"><div class="fs-4">◯</div></div></div>',2),n={class:"row justify-content-center"},c={class:"col-lg-10"},d={class:"row"},u={class:"col-6 mb-3"},m=(0,a._)("label",{for:"firstName",class:"form-label"},"First Name",-1),p={class:"col-6 mb-3"},h=(0,a._)("label",{for:"lastName",class:"form-label"},"Last Name",-1),f={class:"row"},v={class:"col-6 mb-3"},b=(0,a._)("label",{for:"email",class:"form-label"},"E-mail",-1),g={class:"col-6 mb-3"},_=(0,a._)("label",{for:"tel",class:"form-label"},"Contact number",-1),x={class:"mb-3"},y=(0,a._)("label",{for:"address",class:"form-label"},"Address",-1),w={class:"mb-3"},N=(0,a._)("label",{for:"note",class:"form-label"},"Note",-1),k={class:"d-flex justify-content-between"},V=(0,a._)("button",{class:"btn btn-success rounded-1",type:"submit"},"Go to Next",-1);function C(e,t,s,C,W,q){const T=(0,a.up)("Navbar"),M=(0,a.up)("Field"),U=(0,a.up)("ErrorMessage"),$=(0,a.up)("Form"),E=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(T),r,(0,a._)("div",o,[i,(0,a._)("div",n,[(0,a._)("div",c,[(0,a.Wm)($,{onSubmit:q.onSubmit},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",u,[m,(0,a.Wm)(M,{type:"text",class:"form-control",name:"firstName",required:"",id:"firstName","aria-describedby":"firstName",modelValue:W.receipt.user.firstName,"onUpdate:modelValue":t[0]||(t[0]=e=>W.receipt.user.firstName=e),rules:q.validateRequired},null,8,["modelValue","rules"]),(0,a.Wm)(U,{name:"firstName",class:"text-danger"})]),(0,a._)("div",p,[h,(0,a.Wm)(M,{type:"text",class:"form-control",id:"lastName",required:"",name:"lastName","aria-describedby":"lastName",modelValue:W.receipt.user.lastName,"onUpdate:modelValue":t[1]||(t[1]=e=>W.receipt.user.lastName=e),rules:q.validateRequired},null,8,["modelValue","rules"]),(0,a.Wm)(U,{name:"lastName",class:"text-danger"})])]),(0,a._)("div",f,[(0,a._)("div",v,[b,(0,a.Wm)(M,{type:"email",name:"email",class:"form-control",required:"",id:"email",modelValue:W.receipt.user.email,"onUpdate:modelValue":t[2]||(t[2]=e=>W.receipt.user.email=e),rules:q.validateEmail},null,8,["modelValue","rules"]),(0,a.Wm)(U,{name:"email",class:"text-danger"})]),(0,a._)("div",g,[_,(0,a.Wm)(M,{type:"text",class:"form-control",required:"",name:"tel",id:"tel",modelValue:W.receipt.user.tel,"onUpdate:modelValue":t[3]||(t[3]=e=>W.receipt.user.tel=e),rules:q.validateNum},null,8,["modelValue","rules"]),(0,a.Wm)(U,{name:"tel",class:"text-danger"})])]),(0,a._)("div",x,[y,(0,a.Wm)(M,{type:"text",class:"form-control",name:"address",id:"address","aria-describedby":"address",modelValue:W.receipt.user.address,"onUpdate:modelValue":t[4]||(t[4]=e=>W.receipt.user.address=e),rules:q.validateRequired},null,8,["modelValue","rules"]),(0,a.Wm)(U,{name:"address",class:"text-danger"})]),(0,a._)("div",w,[N,(0,a.wy)((0,a._)("textarea",{type:"text",class:"form-control",id:"note","aria-describedby":"note",rows:"3","onUpdate:modelValue":t[5]||(t[5]=e=>W.receipt.message=e)},null,512),[[l.nr,W.receipt.message]])]),(0,a._)("div",k,[(0,a._)("button",{class:"btn btn-link text-secondary p-0 rounded-1",onClick:t[6]||(t[6]=(0,l.iM)(((...e)=>q.backToLastPage&&q.backToLastPage(...e)),["prevent"]))},"Shopping more"),V])])),_:1},8,["onSubmit"])])])]),(0,a.Wm)(E)],64)}var W=s(5963),q=s(5708),T={mixins:[W.Z],components:{Form:q.l0,Field:q.gN,ErrorMessage:q.Bc},data(){return{receipt:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{onSubmit(e){this.readyOrder()},validateRequired(e){return!!e||"This field is required"},validateEmail(e){if(!e)return"This field is required";const t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return!!t.test(e)||"This field must be a valid email"},validateNum(e){if(!e)return"This field is required";const t=/[0-9]{10}/;return!!t.test(e)||"This field must be a valid tel number"},readyOrder(){this.receipt.user.name=this.receipt.user.firstName+this.receipt.user.lastName;const e=this.receipt,t="https://vue3-course-api.hexschool.io/api/h513h/order";this.$http.post(t,{data:e}).then((e=>{const t=e.data.orderId;this.$router.push(`/confirmation/${t}`)})).catch((e=>{console.log(e)}))},backToLastPage(){this.$router.go(-1)}}},M=s(89);const U=(0,M.Z)(T,[["render",C]]);var $=U}}]);
//# sourceMappingURL=606.1b346bd5.js.map